(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define([],b):'object'==typeof exports?exports.Streamed=b():a.Streamed=b()})('undefined'==typeof self?this:self,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='./',b(b.s=2)}([function(a,b,c){'use strict';function d(a){return new TypeError(a+' is not a function')}function e(a){return new TypeError(a+' is not an instance of Streamed')}function f(b){return!(b instanceof a.exports)}var g,h,i,j,k,l,m=c(4),n=c(5),o=c(6),p=c(1),q=c(7);a.exports=p(m,{constructor:function(a){g=g||c(8),h=h||c(9),i=i||c(10),j=j||c(11),k=k||c(12),l=l||c(13),m.call(this),this.bufferLength=q(a),this.subscribers=[]},onopen:n,onclose:n,_push:m.prototype.push,push:function(a){var b;this._push(a),b=this.tail,this.length>this.bufferLength&&this.shift(),this.publish(b)},subscription:function(a){this.push(a.value)},subscribe:function(a){var b=this.subscribers,c=!b.length;b.push(a),c&&this.onopen()},unsubscribe:function(a){var b,c,d=this.subscribers;a?(b=d.indexOf(a),c=0<=b,c&&d.splice(b,1)):d.length=0,!d.length&&c&&this.onclose()},publish:function(a){for(var b=this.subscribers,c=-1;++c in b;)b[c].subscription(a)},buffer:function(a){return new j(this,a)},map:function(a){if(o(a))throw d(a);return new h(this,a)},forEach:function(a){if(o(a))throw d(a);return new g(this,a)},filter:function(a){if(o(a))throw d(a);return new i(this,a)},reduce:function(a,b){if(o(a))throw d(a);return new k(this,a,b)},merge:function(a){if(f(a))throw e(a);return new l(this,a)},pipe:function(a){if(f(a))throw e(a);return this.iterate(function(b){a.subscription(b)}),this.subscribe(a),a},unpipe:function(a){if(f(a))throw e(a);return this.unsubscribe(a),a}})},function(a){'use strict';a.exports=function(a,b){var c,d=b.constructor,e=Object.create(a.prototype);for(c in d.prototype=e,b)e[c]=b[c];return d}},function(a,b,c){a.exports=c(3)},function(a,b,c){'use strict';var d=c(0);a.exports=d},function(a){'use strict';function b(a,b){this.value=a,this.next=b||null}function c(){this.head=null,this.tail=null,this.length=0}c.prototype={constructor:c,push:function(a){var c=new b(a);return this.tail?this.tail.next=c:this.head=c,this.tail=c,this.length+=1,this.length},shift:function(){var a=this.head,b=this.tail;return a&&(a===b&&(this.tail=null),this.head=this.head.next,this.length-=1),a?a.value:void 0},iterate:function(a){for(var b=this.head;b;)a(b),b=b.next}},a.exports=c},function(a){'use strict';a.exports=function(){}},function(a){'use strict';a.exports=function(a){return'function'!=typeof a}},function(a){'use strict';a.exports=function(a){return a=+a||0,a=Math.floor(a),a=0>a?0:a,a}},function(a,b,c){'use strict';var d=c(0),e=c(1);a.exports=e(d,{constructor:function(a,b){var c=this,e=a.bufferLength;d.call(c,e),this.callback=b,a.iterate(function(a){c.subscription(a)}),a.subscribe(this)},subscription:function(a){this.callback(a.value),this.push(a.value)}})},function(a,b,c){'use strict';var d=c(0),e=c(1);a.exports=e(d,{constructor:function(a,b){var c=a.bufferLength;this.callback=b,this.origin=a,d.call(this,c)},onopen:function(){var a=this;this.origin.iterate(function(b){a.subscription(b)}),this.origin.subscribe(this)},onclose:function(){this.origin.unsubscribe(this)},subscription:function(a){var b=this.callback(a.value);this.push(b)}})},function(a,b,c){'use strict';var d=c(0),e=c(1);a.exports=e(d,{constructor:function(a,b){var c=a.bufferLength;this.callback=b,this.origin=a,d.call(this,c)},onopen:function(){var a=this;this.origin.iterate(function(b){a.subscription(b)}),this.origin.subscribe(this)},onclose:function(){this.origin.unsubscribe(this)},subscription:function(a){var b=this.callback(a.value);b&&this.push(a.value)}})},function(a,b,c){'use strict';var d=c(0),e=c(1);a.exports=e(d,{constructor:function(a,b){this.origin=a,d.call(this,b)},onopen:function(){var a=this;this.origin.iterate(function(b){a.subscription(b)}),this.origin.subscribe(this)},onclose:function(){this.origin.unsubscribe(this)},subscription:function(a){this.push(a.value)}})},function(a,b,c){'use strict';var d=c(0),e=c(1);a.exports=e(d,{constructor:function(a,b,c){this.callback=b,this.initialValue=c,this.origin=a,d.call(this)},onopen:function(){var a=this;this.origin.iterate(function(b){a.subscription(b)}),this.origin.subscribe(this)},onclose:function(){this.origin.unsubscribe(this)},subscription:function(){var a,b={},c=this.initialValue===void 0?b:this.initialValue;for(a=this.origin.head;a;)c=c===b?a.value:this.callback(c,a.value),a=a.next;this.push(c)}})},function(a,b,c){'use strict';var d=c(0),e=c(1);a.exports=e(d,{constructor:function(a,b){var c=a.bufferLength+b.bufferLength;this.originA=a,this.originB=b,d.call(this,c)},onopen:function(){function a(a){b.subscription(a)}var b=this;this.originA.iterate(a),this.originB.iterate(a),this.originA.subscribe(this),this.originB.subscribe(this)},onclose:function(){this.originA.unsubscribe(this),this.originB.unsubscribe(this)},subscription:function(a){this.push(a.value)}})}])});
//# sourceMappingURL=streamed.js.map